"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[578],{4578:(X,u,e)=>{e.r(u),e.d(u,{MoviesSearchComponent:()=>V});var l=e(6814),y=e(8234),C=e(9360),S=e(8251),p=e(4829),E=e(2420);function h(o){return(0,C.e)((s,t)=>{(0,p.Xf)(o).subscribe((0,S.x)(t,()=>t.complete(),E.Z)),!t.closed&&s.subscribe(t)})}var L=e(5592),g=e(1631),O=e(4266),d=e(4674),T=e(7400);const b=["addListener","removeListener"],Z=["addEventListener","removeEventListener"],w=["on","off"];function a(o,s,t,i){if((0,d.m)(t)&&(i=t,t=void 0),i)return a(o,s,t).pipe((0,T.Z)(i));const[r,c]=function Q(o){return(0,d.m)(o.addEventListener)&&(0,d.m)(o.removeEventListener)}(o)?Z.map(v=>m=>o[v](s,m,t)):function z(o){return(0,d.m)(o.addListener)&&(0,d.m)(o.removeListener)}(o)?b.map(M(o,s)):function A(o){return(0,d.m)(o.on)&&(0,d.m)(o.off)}(o)?w.map(M(o,s)):[];if(!r&&(0,O.z)(o))return(0,g.z)(v=>a(v,s,t))((0,p.Xf)(o));if(!r)throw new TypeError("Invalid event target");return new L.y(v=>{const m=(...f)=>v.next(1<f.length?f:f[0]);return r(m),()=>c(m)})}function M(o,s){return t=>i=>o[t](s,i)}var x=e(2680),J=e(9397),$=e(7325),B=e(5689),n=e(2029),I=e(9786);const P=["loadMore"],U=function(o){return{"to-top-btn-show":o}};let V=(()=>{var o;class s extends B.O{constructor(i){super(),this.moviesService=i,this.movies$=this.moviesService.movies$.pipe(h(this.unsubscribe$)),this.windowScrolled=!1}ngAfterViewInit(){a(this.loadMoreBtn?.nativeElement,"click").pipe((0,x.b)(250),(0,J.b)(()=>{this.moviesService.loadMoreMovies()}),h(this.unsubscribe$)).subscribe()}ngOnInit(){this.moviesService.init(),window.addEventListener("scroll",()=>{this.windowScrolled=window.pageYOffset>200})}scrollToTop(){window.scrollTo(0,0)}}return(o=s).\u0275fac=function(i){return new(i||o)(n.Y36(I.I))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-movies-search"]],viewQuery:function(i,r){if(1&i&&n.Gf(P,5),2&i){let c;n.iGM(c=n.CRH())&&(r.loadMoreBtn=c.first)}},standalone:!0,features:[n.qOj,n.jDz],decls:8,vars:8,consts:[["id","movies-list",3,"movies"],[1,"load-more"],[3,"disabled"],["loadMore",""],[1,"to-top-btn",3,"ngClass","click"]],template:function(i,r){1&i&&(n._UZ(0,"app-movie-cards",0),n.ALo(1,"async"),n.TgZ(2,"section",1)(3,"button",2,3),n._uU(5),n.qZA(),n.TgZ(6,"button",4),n.NdJ("click",function(){return r.scrollToTop()}),n._uU(7,"\u2b06"),n.qZA()()),2&i&&(n.Q6J("movies",n.lcZ(1,4,r.movies$)),n.xp6(3),n.Q6J("disabled",r.moviesService.isLoadingVal),n.xp6(2),n.Oqu(r.moviesService.isLoadingVal?"Loading...":"Load more movies"),n.xp6(1),n.Q6J("ngClass",n.VKq(6,U,r.windowScrolled)))},dependencies:[y.Bz,l.ez,l.mk,l.Ov,$.X],styles:[".load-more[_ngcontent-%COMP%]{position:fixed;text-align:center;bottom:0;width:100%;background-color:#000;padding:1rem;z-index:200}.to-top-btn[_ngcontent-%COMP%]{cursor:pointer;margin-left:1rem;opacity:0;background:black;border:1px solid white;padding:.5rem;color:#ffb6c1}.to-top-btn[_ngcontent-%COMP%]:hover{color:#fff}.to-top-btn-show[_ngcontent-%COMP%]{opacity:1!important;transition:all .2s ease-in-out}"]}),s})()}}]);