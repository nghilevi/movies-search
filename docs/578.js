"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[578],{4578:(F,f,e)=>{e.r(f),e.d(f,{MoviesSearchComponent:()=>j});var a=e(6814),y=e(8234),C=e(9360),S=e(8251),p=e(4829),E=e(2420);function h(n){return(0,C.e)((s,t)=>{(0,p.Xf)(n).subscribe((0,S.x)(t,()=>t.complete(),E.Z)),!t.closed&&s.subscribe(t)})}var L=e(5592),O=e(1631),T=e(4266),d=e(4674),g=e(7400);const b=["addListener","removeListener"],Z=["addEventListener","removeEventListener"],w=["on","off"];function l(n,s,t,i){if((0,d.m)(t)&&(i=t,t=void 0),i)return l(n,s,t).pipe((0,g.Z)(i));const[r,v]=function Q(n){return(0,d.m)(n.addEventListener)&&(0,d.m)(n.removeEventListener)}(n)?Z.map(c=>m=>n[c](s,m,t)):function z(n){return(0,d.m)(n.addListener)&&(0,d.m)(n.removeListener)}(n)?b.map(M(n,s)):function A(n){return(0,d.m)(n.on)&&(0,d.m)(n.off)}(n)?w.map(M(n,s)):[];if(!r&&(0,T.z)(n))return(0,O.z)(c=>l(c,s,t))((0,p.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new L.y(c=>{const m=(...u)=>c.next(1<u.length?u:u[0]);return r(m),()=>v(m)})}function M(n,s){return t=>i=>n[t](s,i)}var x=e(2680),J=e(9397),$=e(7325),B=e(5689),o=e(2029),I=e(9786);const U=["loadMore"],X=function(n){return{"to-top-btn-show":n}};let j=(()=>{var n;class s extends B.O{constructor(i){super(),this.moviesService=i,this.movies$=this.moviesService.movies$.pipe(h(this.unsubscribe$)),this.windowScrolled=!1}ngAfterViewInit(){l(this.loadMoreBtn?.nativeElement,"click").pipe((0,x.b)(250),(0,J.b)(()=>{this.moviesService.loadMoreMovies()}),h(this.unsubscribe$)).subscribe()}ngOnInit(){window.addEventListener("scroll",()=>{this.windowScrolled=window.pageYOffset>200})}scrollToTop(){window.scrollTo(0,0)}}return(n=s).\u0275fac=function(i){return new(i||n)(o.Y36(I.I))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-movies-search"]],viewQuery:function(i,r){if(1&i&&o.Gf(U,5),2&i){let v;o.iGM(v=o.CRH())&&(r.loadMoreBtn=v.first)}},standalone:!0,features:[o.qOj,o.jDz],decls:8,vars:8,consts:[["id","movies-list",3,"movies"],[1,"load-more"],[3,"disabled"],["loadMore",""],[1,"to-top-btn",3,"ngClass","click"]],template:function(i,r){1&i&&(o._UZ(0,"app-movie-cards",0),o.ALo(1,"async"),o.TgZ(2,"section",1)(3,"button",2,3),o._uU(5),o.qZA(),o.TgZ(6,"button",4),o.NdJ("click",function(){return r.scrollToTop()}),o._uU(7,"\u2b06"),o.qZA()()),2&i&&(o.Q6J("movies",o.lcZ(1,4,r.movies$)),o.xp6(3),o.Q6J("disabled",r.moviesService.isLoading),o.xp6(2),o.Oqu(r.moviesService.isLoading?"Loading...":"Load more movies"),o.xp6(1),o.Q6J("ngClass",o.VKq(6,X,r.windowScrolled)))},dependencies:[y.Bz,a.ez,a.mk,a.Ov,$.X],styles:[".load-more[_ngcontent-%COMP%]{position:fixed;text-align:center;bottom:0;width:100%;background-color:#000;padding:1rem;z-index:200}.to-top-btn[_ngcontent-%COMP%]{cursor:pointer;margin-left:1rem;opacity:0;background:black;border:1px solid white}.to-top-btn-show[_ngcontent-%COMP%]{opacity:1!important;transition:all .2s ease-in-out}"]}),s})()}}]);